<ng-container *ngIf="movie.length"
  ><app-showing-details [showingId]="showing[0].id"></app-showing-details>

  <!-- </ng-container> -->

  <!-- <ng-container notFound> Nie znaleziono takiego seansu </ng-container> -->

  <div class="rows" *ngFor="let row of rowsA">
    <span class="row">{{ row }} </span>
    <span
      class="column-seats"
      *ngFor="let column of columns; let index = index"
      [ngClass]="
        onCheckBookedSeats(row, column)
          ? 'booked-seat'
          : onCheckReservedSeats(row, column)
          ? 'reserved-seat'
          : ''
      "
      (click)="onReserveSeat(row, column)"
    >
      {{ column }}
    </span>
  </div>

  <ng-container *ngIf="ticketsForm.controls.tickets.controls.length > 0">
    <form [formGroup]="ticketsForm" (ngSubmit)="onSubmit()">
      <ol
        *ngFor="
          let ticket of ticketsForm.controls.tickets.controls;
          let index = index
        "
      >
        <div [formGroup]="ticket">
          <fieldset>
            <legend>Bilet</legend>
            <span>Rząd {{ ticket.controls.rowSeat.value }}</span>
            <span> Miejsce {{ ticket.controls.columnSeat.value }}</span>
            <select formControlName="ticketTypeName">
              <option
                [ngValue]="ticketType.name"
                (click)="changePrice(index)"
                *ngFor="let ticketType of ticketTypes; let index = index"
              >
                {{ ticketType.name }}
              </option></select
            ><span>{{ ticket.controls.ticketPrice.value }}</span>

            <button
              (click)="
                removeTicket(
                  index,
                  ticket.controls.rowSeat.value,
                  ticket.controls.columnSeat.value
                )
              "
            >
              X
            </button>
          </fieldset>
        </div>
      </ol>

      <span>{{ totalPrice }}</span>
      <button>Wyślij</button>
    </form>
  </ng-container>
</ng-container>
